(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Hqpm:function(e,t,n){"use strict";function r(e,t,n){var r="_self";t&&"string"==typeof t.target&&(r=t.target);var a="";t&&"string"==typeof t.specs&&(a=t.specs),"boolean"==typeof n&&!1===n&&(n=""),null==n&&(n="en"),""!==n&&(n="/"+n),window.open(window.location.protocol+"//"+window.location.hostname+n+e,r,a)}n.d(t,"a",function(){return r})},IJEq:function(e,t,n){},JkIo:function(e,t,n){},Zi0P:function(e,t,n){},oYZW:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("i8i4"),l=(n("17x9"),n("zHh7")),c=n("IP2g"),i=n("twK/"),u=n("76ZC"),s=n.n(u);function m(e){var t=e.message,n=e.translations,r=e.cancelMessage;return a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12 alert alert-"+t.level,role:"alert"},s()(t.message),a.a.createElement("button",{className:"btn close",onClick:function(){r(t.id)},title:Object(l.a)(n,"message.close"),type:"button"},a.a.createElement(c.a,{icon:i.a}))))}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e){var t=e.messages,n=p(e,["messages"]);if(0===Object.keys(t).length)return"";var r=Object.keys(t).map(function(e){var r=t[e];return r.id=e,a.a.createElement(m,f({message:r,key:"message_"+r.id},n))});return a.a.createElement("section",null,r)}d.defaultProps={messages:{}};var y=n("GTV5"),b=(n("Zi0P"),n("IzWC")),h=(n("JkIo"),n("tCC2"));function v(e){var t=e.help;return!1===t||null===t||""===t?"":a.a.createElement(h.a,{className:"text-muted form-text small"},t)}v.defaultProps={help:""};var g=n("wHSu");function O(e){var t=e.errors;if(0===t.length)return"";var n=t.map(function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(c.a,{icon:g.b})," ",e)});return a.a.createElement("small",{className:"text-danger form-text"},a.a.createElement("ul",{className:"list-unstyled"},n))}O.defaultProps={errors:[]};var E=n("7O5W"),j=n("2ScO"),w=n("8tEE");n("IJEq");function _(e){var t=e.element,n=e.style,r=e.value,o=e.elementClick,l=r;"boolean"==typeof l&&(l=!0===l?"1":"0");var i="1"===l?t.button_class_on:t.button_class_off;i=(i+" "+t.div_class).trim();var u="1"===l?t.icon_class_on:t.icon_class_off;return(u=u.split(" "))[1]=u[1].replace("fa-",""),u[0]=u[0].replace("fa-",""),a.a.createElement(j.a,{controlId:t.id,className:t.errors.length>0?"has-danger":"",key:t.id+("1"===l?"_on":"_off")},a.a.createElement("div",{className:"toggle-label"},a.a.createElement("label",{className:"control-label",htmlFor:t.id},a.a.createElement("button",{type:"button",className:i,onClick:function(e){return o(e,t.id,"toggle")},value:l},a.a.createElement(c.a,{icon:u,fixedWidth:!0})),t.label)),"row"===n?a.a.createElement("span",null,a.a.createElement(O,{errors:t.errors}),a.a.createElement(v,{help:t.help})):"")}E.b.add(g.c,i.b,w.a);var k=n("SyXz");function S(e){var t=e.label;return!1===t?"":a.a.createElement("span",null,a.a.createElement(k.a,null,t),a.a.createElement(b.a.Feedback,null))}function P(e){var t=e.required;return""===t?a.a.createElement("span",null):a.a.createElement("span",{className:"field-required"},"Â ",t)}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t,n){return"object"!==x(t)&&(t={}),a.a.createElement(j.a,B({controlId:n.id,className:n.errors.length>0?"has-danger":""},t),e,a.a.createElement(S,{label:n.label}),a.a.createElement(P,{required:n.required}),a.a.createElement("br",null),a.a.createElement(O,{errors:n.errors}),a.a.createElement(v,{help:n.help}))}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e){var t=e.element,n=e.elementChange,r=N({},t.value);r=Array.from(Object.keys(r),function(e){return r[e]}),t.value=r,t.data=r;var o="";return o="object"===C(t.choices)?Object.keys(t.choices).map(function(e){var r=t.choices[e],o=void 0!==r.attr.style?r.attr.style:{},l=void 0!==r.attr.class?r.attr.class+" form-check-input":"form-check-input",c=r.attr?r.attr:{};return t.value.includes(r.value)?c.checked=!0:c.checked=!1,a.a.createElement("div",{className:"form-check align-self-center "+("right"===t.justify?"form-check-right":"form-check-left"),key:t.id+"_"+e+(c.checked?"_ON":"_OFF")},a.a.createElement("label",{className:"form-check-label",htmlFor:t.id+"_"+e},"right"===t.justify?r.label:"",a.a.createElement("input",N({className:l,type:"checkbox",id:t.id+"_"+e,name:t.full_name+"["+e+"]",value:r.value,onChange:function(e){return n(e,t.id,"choice")},style:o},c)),"left"===t.justify?r.label:""))}):t.choices.map(function(e,r){var o=void 0!==e.attr.style?e.attr.style:{},l=void 0!==e.attr.class?e.attr.class+" form-check-input":"form-check-input",c=e.attr?e.attr:{};return t.value.includes(e.value)?c.checked=!0:c.checked=!1,a.a.createElement("div",{className:"form-check align-self-center "+("right"===t.justify?"form-check-right":"form-check-left"),key:t.id+"_"+r+(c.checked?"_ON":"_OFF")},a.a.createElement("label",{className:"form-check-label",htmlFor:t.id+"_"+r},"right"===t.justify?e.label:"",a.a.createElement("input",N({className:l,type:"checkbox",id:t.id+"_"+r,name:t.full_name+"["+r+"]",value:e.value,onChange:function(e){return n(e,t.id,"choice")},style:o},c)),"left"===t.justify?e.label:""))}),a.a.createElement("div",{className:"right"===t.justify?"text-right":"text-left"},o)}function F(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function T(e){var t=e.form,n=e.style,r=e.elementChange,o=e.getElementData,c=L(e,["form","style","elementChange","getElementData"]),i=U({},t),u=i.block_prefixes.slice(0).reverse(),s=i.attr&&i.attr.placeholder?i.attr.placeholder:Object(l.a)(c.translations,"Enter Text"),m=i.attr&&i.attr.autocomplete?i.attr.autocomplete:"off",f=u.find(function(e){if(function(e){switch(e){case"hillrange_colour":case"hillrange_toggle":case"hidden":case"choice":case"time":case"password":case"text":return!0;default:return!1}}(e))return e});switch(f&&!/^\s*$/.test(f)||(console.error("No element type found"),console.log(u)),i.errors.length>0?i.attr.class=void 0!==i.attr.class?i.attr.class.replace(" has-error","").replace("has-error","")+" has-error":"has-error":i.attr.class=void 0!==i.attr.class?i.attr.class.replace(" has-error","").replace("has-error",""):"",f){case"hillrange_colour":return"widget"===n?p("color"):H(p("color"),{},i);case"hillrange_toggle":return a.a.createElement(_,U({},c,{element:i,style:n,value:o(i.id)}));case"hidden":return p("hidden");case"choice":return"widget"===n?v():H(v(),{},i);case"text":return"widget"===n?p("text"):H(p("text"),{},i);case"time":return"widget"===n?y():H(y(),{},i);case"password":return"widget"===n?p("password"):H(p("password"),{},i);default:return"widget"===n?d():H(d(),{},i)}function p(e){return a.a.createElement(b.a,{type:e,id:i.id,value:o(i.id),placeholder:s,className:"string"==typeof i.attr.class?i.attr.class:void 0,name:i.full_name,label:i.label,onChange:function(e){return r(e,i.id,"text")},autoComplete:m})}function d(){return a.a.createElement(b.a,{type:"text",value:i.value,placeholder:s,onChange:function(e){return r(e,i.id,"form")},className:"string"==typeof i.attr.class?i.attr.class:void 0,autoComplete:m})}function y(){var e=i.children[0],t=void 0;i.with_minutes&&(t=i.children[1]);var n=void 0;return i.with_seconds&&(n=i.children[2]),a.a.createElement("div",{id:i.id,onChange:function(e){return r(e,i.id,"time")},className:"form-inline"+(void 0===i.attr.class?"":" "+i.attr.class)},a.a.createElement(b.a,{componentClass:"select",id:e.id,value:o(e.id),className:"string"==typeof i.attr.class?i.attr.class:void 0,"time-type":"hour",autoComplete:m,onChange:function(e){return r(e,"ignore_me")}},e.choices.map(function(e,t){return a.a.createElement("option",{key:t,value:e.value},e.label)})),i.with_minutes?a.a.createElement("div",null,":",a.a.createElement(b.a,{componentClass:"select",id:t.id,value:o(t.id),"time-type":"minute",className:"string"==typeof i.attr.class?i.attr.class:void 0,autoComplete:m,onChange:function(e){return r(e,"ignore_me")}},t.choices.map(function(e,t){return a.a.createElement("option",{key:t,value:e.value},e.label)})),i.with_seconds?a.a.createElement("div",null,":",a.a.createElement(b.a,{componentClass:"select",id:n.id,value:o(n.id),"time-type":"second",className:"string"==typeof i.attr.class?i.attr.class:void 0,autoComplete:m,onChange:function(e){return r(e,"ignore_me")}},n.choices.map(function(e,t){return a.a.createElement("option",{key:t,value:e.value},e.label)}))):""," "):"")}function h(e){var t=[];i.placeholder&&!/^\s*$/.test(i.placeholder)&&(t=[a.a.createElement("option",{key:"placeholder",value:""},i.placeholder)]);var n=[];return n="object"===M(i.choices)?Object.keys(i.choices).map(function(t){var n=i.choices[t];return e?a.a.createElement("option",{key:t,value:n.value,onClick:function(e){return r(e,i.id,"choice")}},n.label):a.a.createElement("option",{key:t,value:n.value},n.label)}):i.choices.map(function(t,n){return e?a.a.createElement("option",{key:n,value:t.value,onClick:function(e){return r(e,i.id,"choice")}},t.label):a.a.createElement("option",{key:n,value:t.value},t.label)}),F(t).concat(F(n))}function v(){return!0===i.multiple?i.expanded?a.a.createElement(I,U({},c,{element:i,elementChange:r})):a.a.createElement(b.a,{componentClass:"select",value:o(i.id),multiple:!0,className:"string"==typeof i.attr.class?i.attr.class:void 0,autoComplete:m,onChange:function(e){return r(e,"ignore_me","choice")}},h(!0)):a.a.createElement(b.a,{componentClass:"select",value:o(i.id),multiple:!1,className:"string"==typeof i.attr.class?i.attr.class:void 0,autoComplete:m,onChange:function(e){return r(e,i.id,"choice")}},h(!1))}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $(e){var t=e.style,n=e.name,r=e.form,o=D(e,["style","name","form"]),l=r.children.find(function(e){if(e.name===n)return e});return a.a.createElement(T,R({form:R({},l),style:t},o))}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){var t=e.button,n=e.buttonHandler,r={};!1===t.class||void 0===t.class?r.className="btn btn-"+t.colour:r.className=t.class;return""===t.mergeClass||!1!==t.class&&void 0!==t.class||(r.className=r.className+" "+t.mergeClass),"object"===A(t.style)&&(r.style=t.style),""!==t.type&&void 0!==t.type&&["button","submit"].includes(t.type)?r.type=t.type:r.type="button","object"===A(t.options)&&(r.options=t.options),"string"==typeof t.title&&(r.title=t.title),"function"==typeof n&&(r.onClick=function(e){return n(t,e)}),"object"===A(t.attr)&&(r=q({},r,t.attr)),void 0!==t.disabled&&!0===t.disabled&&(r.disabled=!0),"transparent"===t.colour?(delete r.className,delete r.type,a.a.createElement("i",r,t.prompt?t.prompt:null,t.icon?a.a.createElement(c.a,{icon:t.icon,fixedWidth:!0}):null)):a.a.createElement("button",r,t.prompt?t.prompt:null,t.icon?a.a.createElement(c.a,{icon:t.icon,fixedWidth:!0}):null)}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function K(e){var t=e.button,n=e.deleteButtonHandler,r=W(e,["button","deleteButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="warning"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","trash-alt"]),a.a.createElement(J,z({button:t,buttonHandler:n},r))}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y(e){var t=e.button,n=e.editButtonHandler,r=G(e,["button","editButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="info"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","edit"]),a.a.createElement(J,Z({button:t,buttonHandler:n},r))}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Q(e){var t=e.button,n=e.miscButtonHandler,r=X(e,["button","miscButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","atom"]),a.a.createElement(J,V({button:t,buttonHandler:n},r))}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ne(e){var t=e.button,n=e.addButtonHandler,r=te(e,["button","addButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="info"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","plus-circle"]),a.a.createElement(J,ee({button:t,buttonHandler:n},r))}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oe(e){var t=e.button,n=e.refreshButtonHandler,r=ae(e,["button","refreshButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="warning"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","redo"]),a.a.createElement(J,re({},r,{button:t,buttonHandler:n}))}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ie(e){var t=e.button,n=e.returnButtonHandler,r=ce(e,["button","returnButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="primary"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","hand-point-left"]),a.a.createElement(J,le({button:t,buttonHandler:n},r))}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function me(e){var t=e.button,n=e.closeButtonHandler,r=se(e,["button","closeButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="primary"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","times-circle"]),a.a.createElement(J,ue({button:t,buttonHandler:n},r))}function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function de(e){var t=e.button,n=e.saveButtonHandler,r=pe(e,["button","saveButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="success"),""!==t.type&&void 0!==t.type||(t.type="button"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","download"]),a.a.createElement(J,fe({button:t,buttonHandler:n},r))}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function he(e){var t=e.button,n=e.submitButtonHandler,r=be(e,["button","submitButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="success"),""!==t.type&&void 0!==t.type||(t.type="submit"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","download"]),a.a.createElement(J,ye({button:t,submitButtonHandler:n},r))}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oe(e){var t=e.button,n=e.upButtonHandler,r=ge(e,["button","upButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=g.a),a.a.createElement(J,ve({button:t,upButtonHandler:n},r))}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function we(e){var t=e.button,n=e.downButtonHandler,r=je(e,["button","downButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","arrow-down"]),a.a.createElement(J,Ee({button:t,buttonHandler:n},r))}function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Se(e){var t=e.button,n=e.duplicateButtonHandler,r=ke(e,["button","duplicateButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","clone"]),a.a.createElement(J,_e({button:t,buttonHandler:n},r))}function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xe(e){var t=e.button,n=Be(e,["button"]);if(!1===t.display)return"";var r=Pe({},t);return r.buttonType=t.type,void 0===r.mergeClass&&(r.mergeClass=""),"edit"===r.type?a.a.createElement(Y,Pe({},n,{button:r})):"save"===r.type?a.a.createElement(de,Pe({},n,{button:r})):"submit"===r.type?a.a.createElement(he,Pe({},n,{button:r})):"delete"===r.type?a.a.createElement(K,Pe({},n,{button:r})):"add"===r.type?a.a.createElement(ne,Pe({button:r},n)):"return"===r.type?a.a.createElement(ie,Pe({},n,{button:r})):"refresh"===r.type?a.a.createElement(oe,Pe({button:r},n)):"close"===r.type?a.a.createElement(me,Pe({},n,{button:r})):"up"===r.type?a.a.createElement(Oe,Pe({},n,{button:r})):"down"===r.type?a.a.createElement(we,Pe({},n,{button:r})):"duplicate"===r.type?a.a.createElement(Se,Pe({button:r},n)):a.a.createElement(Q,Pe({},n,{button:r}))}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ne(e){var t=e.template,n=e.allow_up,r=e.allow_down,o=e.allow_delete,l=e.allow_duplicate,c=e.first,i=e.last,u=e.form,m=e.collection_buttons,f=e.default_buttons,p=e.callUrl,d=Ce(e,["template","allow_up","allow_down","allow_delete","allow_duplicate","first","last","form","collection_buttons","default_buttons","callUrl"]);if(!1!==t.container)return a.a.createElement("div",{className:"string"==typeof t.class?t.class:void 0},a.a.createElement(Ye,He({},d,{template:t.container,callUrl:p,form:u})));if(!1!==t.rows)return a.a.createElement("div",{className:t.class},a.a.createElement(Te,He({},d,{template:t.rows,form:u,callUrl:p})));var y=[];if(!1!==t.buttons&&(y=Object.keys(t.buttons).map(function(e){return a.a.createElement(xe,He({},d,{key:e,button:He({},t.buttons[e])}))})),!1!==t.collection_actions){var b={};o&&(b=He({},f.delete),void 0!==m.delete&&(b=He({},m.delete)),b.row=u,y.unshift(v(b,"delete"))),l&&(b=He({},f.duplicate),void 0!==m.duplicate&&(b=He({},m.duplicate)),y.unshift(v(b,"duplicate"))),r&&i!==u.name&&(b=He({},f.down),void 0!==m.down&&(b=He({},m.down)),y.unshift(v(b,"down"))),n&&c!==u.name&&(b=He({},f.up),void 0!==m.up&&(b=He({},m.up)),y.unshift(v(b,"up")))}if(!1!==t.form){var h=Object.keys(t.form).map(function(e){var n=t.form[e];return a.a.createElement($,He({},d,{style:n,name:e,key:e,form:He({},u),template:t,callUrl:p}))});return a.a.createElement("div",{className:"string"==typeof t.class?t.class:void 0},h,y)}function v(e,t){return a.a.createElement(xe,He({},d,{button:e,key:t}))}"string"!=typeof t.label&&(t.label="");var g={};return!1!==t.style&&(g.style=He({},t.style)),!1!==t.onClick&&(g.onClick=function(e){return p(e,t.onClick)}),"string"==typeof t.class&&(g.className=t.class),a.a.createElement("div",g,s()(t.label),a.a.createElement("span",null,y))}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Me(e){var t=e.template,n=Fe(e,["template"]);if(!1===t)return"";var r=t.columns.map(function(e,t){return a.a.createElement(Ne,Ie({},n,{key:t,template:e}))});return a.a.createElement("div",{className:t.class},r)}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Te(e){var t=e.template,n=Le(e,["template"]);return!1===t?"":t.map(function(e,t){return a.a.createElement(Me,Ue({},n,{template:e,key:t}))})}E.b.add(g.c,i.b,w.a),Ne.defaultProps={allow_delete:!1,allow_up:!1,allow_down:!1,allow_duplicate:!1,collection_buttons:{}};var Re=n("zsrT"),De=n.n(Re);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Je(e){var t=e.form,n=e.template,r=e.getFormElementById,o=Ae(e,["form","template","getFormElementById"]),l=function(e){if("object"!==$e(n.sortBy))return e;if(0===e.children.length)return e;var t=Object.keys(n.sortBy).map(function(e){return{name:e,orderBy:"DESC"===n.sortBy[e].toUpperCase()?-1:1}}),r=t.length;if(r<1)return e;if(1===r)return e.children.sort(De()(function(e,n){return f(t[0].name,e,n)},t[0].orderBy)),e;if(2===r)return e.children.sort(De()(function(e,n){return f(t[0].name,e,n)},t[0].orderBy).thenBy(function(e,n){return f(t[1].name,e,n)},t[1].orderBy)),e;return e.children.sort(De()(function(e,n){return f(t[0].name,e,n)},t[0].orderBy).thenBy(function(e,n){return f(t[1].name,e,n)},t[1].orderBy).thenBy(function(e,n){return f(t[2].name,e,n)},t[2].orderBy)),e}(r(t.id)),c=l.children,i=null;Object.keys(c).map(function(e){var t=c[e];i=t.name});var u={addButtonHandler:o.addButtonHandler,deleteButtonHandler:o.deleteButtonHandler,allow_add:l.allow_add,allow_delete:l.allow_delete,allow_up:l.allow_up,allow_down:l.allow_down,allow_duplicate:l.allow_duplicate,collection_buttons:n.buttons,first:void 0!==c[0]?c[0].name:null,last:i,collection_name:l.name,default_buttons:{add:{type:"add",style:{float:"right"},options:{eid:"id"}},delete:{type:"delete",style:{},options:{eid:"id"}},up:{type:"up",style:{},options:{eid:"id"}},down:{type:"down",style:{},options:{eid:"id"}},duplicate:{type:"duplicate",style:{},options:{eid:"id"}}}},s=Object.keys(c).map(function(e){var t=c[e];return a.a.createElement(Te,qe({},o,u,{key:e,form:t,template:n.rows}))}),m=a.a.createElement(Me,qe({template:n.headerRow,form:t},o));function f(e,t,n){var r=t.children.find(function(t){if(t.name===e)return t}),a=n.children.find(function(t){if(t.name===e)return t});if("object"===$e(r.data)){if(r.data&&void 0!==r.data.date)return r.data.date>a.data.date?1:-1;if(null===r.data)return 1;console.error("what type of object is this to sort!"),console.log(r.data)}return console.log(r.data<a.data),console.log(e,r.data,a.data),r.data>a.data?1:-1}return a.a.createElement("div",{id:l.id,autoComplete:"off"},m,s,function(){if(l.allow_add){var e=qe({},u.default_buttons.add);return void 0!==n.buttons.add&&(e=qe({},n.buttons.add)),e=Object.assign({id:l.id+"_add"},qe({},e)),a.a.createElement(xe,qe({},o,{button:e,addButtonHandler:o.addButtonHandler}))}return""}(),a.a.createElement("hr",null))}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ke(e){var t=e.template,n=We(e,["template"]);var r=["dark","success","primary","info","danger","secondary"].includes(t.colour)?t.colour+" text-white":t.colour+" text-dark",o="";if(!1!==t.collection){var l=n.form,c=l.children.find(function(e){if(e.name===t.collection.form)return e});o=a.a.createElement("div",{className:"card-body"},a.a.createElement(Me,ze({},n,{template:t.headerRow,form:l})),a.a.createElement(Je,ze({},n,{template:t.collection,collectionName:t.form,form:c})))}else o=a.a.createElement("div",{className:"card-body"},a.a.createElement(Me,ze({},n,{template:t.headerRow})),a.a.createElement(Te,ze({},n,{template:t.rows})));return a.a.createElement("div",{className:"card card-panel"},a.a.createElement("div",{className:"card-header bg-"+r},!1===t.buttons?a.a.createElement("h3",{className:"card-title d-flex mb-12 justify-content-between"},t.label):a.a.createElement("h3",{className:"card-title d-flex mb-12 justify-content-between"},a.a.createElement("span",{className:"p-6"},t.label),a.a.createElement("span",{className:"p-6"},t.buttons.map(function(e,t){return a.a.createElement(xe,ze({button:e,key:t},n))}))),a.a.createElement("p",null,t.description)),o)}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ye(e){var t=e.template,n=e.form,r=Ge(e,["template","form"]);if(!1===t)return"";if(!1!==t.panel)return a.a.createElement(Ke,Ze({},r,{template:t.panel,form:Ze({},n)}));if(!1!==t.collection){var o=n.children.find(function(e){if(e.name===t.collection.form)return e});return a.a.createElement("div",{className:t.class},a.a.createElement(Me,Ze({},r,{template:t.headerRow,form:Ze({},n)})),a.a.createElement(Je,Ze({},r,{template:t.collection,collectionName:t.form,form:Ze({},o)})))}return a.a.createElement("div",{className:t.class},a.a.createElement(Me,Ze({},r,{template:t.headerRow,form:Ze({},n)})),a.a.createElement(Te,Ze({},r,{template:t.rows,form:Ze({},n)})))}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qe(e){var t=e.template,n=Xe(e,["template"]),r=Object.keys(t).map(function(e){var n=t[e],r=!n.display;return a.a.createElement(y.a,{key:e,disabled:r},n.label)}),o=Object.keys(t).map(function(e){var r=t[e];return a.a.createElement(y.c,{key:e},r.display?a.a.createElement(Ye,Ve({},n,{template:r.container})):a.a.createElement("div",null,"Empty Tab"))});return a.a.createElement(y.d,{defaultIndex:t.selectedTab},a.a.createElement(y.b,null,r),o)}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nt(e){var t=e.template,n=e.form,r=tt(e,["template","form"]);return!1!==t.container?a.a.createElement("form",{id:n.block_prefixes[1],name:n.block_prefixes[1],method:t.form.method,action:t.form.url,encType:t.form.encType},a.a.createElement("div",{className:"container","data-craig":"1"},a.a.createElement(d,r),a.a.createElement(Ye,et({},r,{form:n,template:t.container})))):a.a.createElement("form",{id:n.block_prefixes[1],name:n.block_prefixes[1],method:t.form.method,action:t.form.url,encType:t.form.encType},a.a.createElement("div",{className:"container","data-craig":"2"},a.a.createElement(d,r),a.a.createElement(Qe,et({},r,{form:n,template:t.tabs}))))}function rt(e){return e.errors=[],e.constraints.map(function(t){switch(t.class){case"NotBlank":e=function(e,t){if(e.block_prefixes.includes("time")){var n=!1;return e.children.map(function(r){"string"!=typeof r.value&&(n||(n=!0,e.errors.push(t.message)))}),e}var r=e.value;r&&!/^\s*$/.test(r)||e.errors.push(t.message);return e}(e,t);break;case"Length":e=function(e,t){var n=e.value;if(!n||/^\s*$/.test(n))return e;null!==t.min&&n.length<t.min&&e.errors.push(t.minMessage);null!==t.max&&n.length>t.max&&e.errors.push(t.maxMessage);null!==t.max&&t.max===t.min&&n.length!==t.max&&e.errors.push(t.exactMessage);return e}(e,t);break;case"Choice":e=function(e,t){var n=e.value;if(!n||/^\s*$/.test(n))return e;!0===t.multiple&&null!==t.min&&n.length<t.min&&e.errors.push(t.minMessage);!0===t.multiple&&null!==t.max&&n.length>t.max&&e.errors.push(t.maxMessage);!1!==t.multiple||t.choices.includes(n)||e.errors.push(t.message);if(!0===t.multiple){var r=!0;n.map(function(e,n){t.choices.includes(e)||(r=!1)}),r||e.errors.push(t.multipleMessage)}return e}(e,t);break;case"Colour":e=function(e,t){var n=e.value;if(!n||/^\s*$/.test(n))return e;/^#[0-9A-F]{6}$/i.test(n)||e.errors.push(t.message);return e}(e,t);break;default:console.log(e,t)}}),e}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t,n){switch(n){case"time":t=function(e,t){var n=e.target.getAttribute("time-type"),r=e.target.value;"object"===at(t.value)&&null!==t.value||(t.value={hour:"0",minute:"0",second:"0"});"object"===at(t.data)&&null!==t.data||(t.data={date:"1970-01-01 00:00:00.000000",timezone_type:3,timezone:"UTC"});switch(n){case"hour":t.value.hour=r,t.data.date=t.data.date.substr(0,11)+r.padStart(2,"0")+t.data.date.substr(-13),t.children[0].value=r,t.children[0].data=r,t.with_minutes&&"object"===at(t.children[1].value)&&(t.children[1].value="0",t.children[1].data="0",t.value.minute="0"),t.with_seconds&&"object"===at(t.children[2].value)&&(t.children[2].value="0",t.children[2].data="0",t.value.second="0");break;case"minute":t.value.minute=r,t.data.date=t.data.date.substr(0,14)+r.padStart(2,"0")+t.data.date.substr(-10),t.children[1].value=r,t.children[1].data=r,"object"===at(t.children[0].value)&&(t.children[0].value="0",t.children[0].date="0",t.value.hour="0"),t.with_seconds&&"object"===at(t.children[2].value)&&(t.children[2].value="0",t.children[2].data="0",t.value.second="0");break;case"second":t.value.second=r,t.data.date=t.data.date.substr(0,17)+r.padStart(2,"0")+t.data.date.substr(-7),t.children[2].value=r,t.children[2].data=r,"object"===at(t.children[0].value)&&(t.children[0].value="0",t.children[0].data="0",t.value.hour="0"),"object"===at(t.children[1].value)&&(t.children[1].value="0",t.children[1].data="0",t.value.minute="0");break;default:console.error("Handling time is difficult! "+n)}return t}(e,t);break;case"text":t=function(e,t){var n=e.target.value;return t.value=n,t.data=n,t}(e,t);break;case"choice":t=function(e,t){if(!0===t.multiple){var n=t.value,r=e.target.value;if(n.includes(r)){var a=n.indexOf(r);n.splice(a,1)}else n.push(r);return t.value=n,t}var o=e.target.value;return t.value=o,t.data=o,t}(e,t);break;default:console.error("How do I handle the type === "+n),console.log(e,t)}return t=rt(t)}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct(e,t,n){var r={};t&&t.headers&&(r=t.headers,delete t.headers),r=lt({},r,{"Content-Type":"application/json; charset=utf-8"}),null===n&&(n="en"),!1!==n&&""!==e||(n="");var a=window.location.protocol+"//"+window.location.hostname+"/";return fetch(a+n+e,lt({},t,{credentials:"same-origin",headers:r})).then(it).then(function(e){return e.text().then(function(e){return e?JSON.parse(e):""})})}function it(e){if(e.status>=200&&e.status<400)return e;var t=new Error(e.statusText);throw t.response=e,t}var ut=n("Hqpm");function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var bt=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=pt(t).call(this,e))||"object"!==st(a)&&"function"!=typeof a?yt(r):a).form=e.form,n.template=e.template,n.translations=e.translations,n.locale=e.locale,n.otherProps=mt({},e),delete n.otherProps.form,delete n.otherProps.template,delete n.otherProps.translations,delete n.otherProps.locale,n.messages=[],n.form.errors&&!/^\s*$/.test(n.form.errors)&&(n.messages=n.form.errors.map(function(e){return{level:"danger",message:e}})),n.data={},n.state={messages:n.messages,form:n.form,template:n.template},n.elementChange=n.elementChange.bind(yt(yt(n))),n.elementClick=n.elementClick.bind(yt(yt(n))),n.deleteButtonHandler=n.deleteButtonHandler.bind(yt(yt(n))),n.addButtonHandler=n.addButtonHandler.bind(yt(yt(n))),n.closeButtonHandler=n.closeButtonHandler.bind(yt(yt(n))),n.saveButtonHandler=n.saveButtonHandler.bind(yt(yt(n))),n.getElementData=n.getElementData.bind(yt(yt(n))),n.getElementId=n.getElementId.bind(yt(yt(n))),n.cancelMessage=n.cancelMessage.bind(yt(yt(n))),n.getFormElementById=n.getFormElementById.bind(yt(yt(n))),n.returnButtonHandler=n.returnButtonHandler.bind(yt(yt(n))),n.miscButtonHandler=n.miscButtonHandler.bind(yt(yt(n))),n.callUrl=n.callUrl.bind(yt(yt(n))),n.formControl={translations:n.translations,elementChange:n.elementChange,elementClick:n.elementClick,getElementData:n.getElementData,deleteButtonHandler:n.deleteButtonHandler,closeButtonHandler:n.closeButtonHandler,addButtonHandler:n.addButtonHandler,saveButtonHandler:n.saveButtonHandler,cancelMessage:n.cancelMessage,getFormElementById:n.getFormElementById,returnButtonHandler:n.returnButtonHandler,miscButtonHandler:n.miscButtonHandler,getElementId:n.getElementId,callUrl:n.callUrl},n.elementList={},n}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,r["Component"]),n=t,(o=[{key:"callUrl",value:function(e,t){this.handleURLCall(t.url,t.url_options,t.url_type,{})}},{key:"miscButtonHandler",value:function(e,t){t.stopPropagation(),this.handleURLCall(e.url,e.url_options,e.url_type,{})}},{key:"elementChange",value:function(e,t,n){var r=this;if("ignore_me"!==t){var a=this.getFormElementById(t);void 0!==(a=ot(e,a,n)).attr.onChange&&this.followUrl(a.attr.onChange,a),a.errors.length>0?a.errors.map(function(e){r.setMessageByName(a.id,(a.label?a.label:a.name)+NaN+(a.value&&!/^\s*$/.test(a.value)?JSON.stringify(a.value):"{empty}")+"): "+e)}):this.cancelMessageByName(a.id),this.setFormElement(a,this.form),this.setState({messages:this.messages,form:this.form,template:this.template})}}},{key:"elementClick",value:function(e,t,n){if("ignore_me"!==t){var r=this.getFormElementById(t);r=ot(e,r,n),this.setFormElement(r,this.form),this.setState({messages:this.messages,template:this.template,form:this.form})}}},{key:"deleteButtonHandler",value:function(e){var t=this,n=e.url;if(n&&!/^\s*$/.test(n)&&this.handleURLCall(n,e.url_options,e.url_type,e.row))return;var r=e.row,a=parseInt(r.name),o=r.id.replace("_"+a,""),l=this.getFormElementById(o,this.form),c=mt({},l.prototype),i=0,u=[];"object"===st(l.children)?Object.keys(l.children).map(function(e){if(parseInt(e)!==parseInt(a)){var n=mt({},l.children[e]),r={};r.id=n.id,r.full_name=n.full_name,r.name=n.name;var o={};o.id=c.id.replace("__name__",i),o.full_name=c.full_name.replace("__name__",i),n.name=c.name.replace("__name__",i),n.full_name=c.full_name.replace("__name__",i),n.id=c.id.replace("__name__",i),n.name=i.toString(),n.label=c.label.replace("__name__",i),n=t.updateCollectionDetails(n,r,o),u[i++]=n}}):l.children.map(function(e,n){if(parseInt(n)!==parseInt(a)){var r={};r.id=e.id,r.full_name=e.full_name,r.name=e.name;var o={};o.id=c.id.replace("__name__",i),o.full_name=c.full_name.replace("__name__",i),e.name=c.name.replace("__name__",i),e.full_name=c.full_name.replace("__name__",i),e.id=c.id.replace("__name__",i),e.name=i.toString(),e.label=c.label.replace("__name__",i),e=t.updateCollectionDetails(e,r,o),u[i++]=e}}),this.elementList={},l.children=u,this.setFormElement(l,this.form),this.setState({form:this.form,messages:this.messages,template:this.template})}},{key:"followUrl",value:function(e,t){var n=e.url,r=e.url_options&&"object"===st(e.url_options)?e.url_options:{},a=e.url_type&&"string"==typeof e.url_type?e.url_type:"redirect";this.handleURLCall(n,r,a,t)}},{key:"handleURLCall",value:function(e,t,n,r){var a=this;"object"!==st(t)&&(t={});var o=!0;return Object.keys(t).map(function(n){var a=r[t[n]];"{id}"!==n||a&&!/^\s*$/.test(a)||(a="Add"),e=e.replace(n,a),null==a&&(o=!1)}),!!o&&("redirect"===n?Object(ut.a)(e,{method:"GET"},this.locale):ct(e,{method:"GET"},this.locale).then(function(e){a.elementList={},a.messages=a.messages.concat(e.messages),a.form=e.form,e.template&&!/^\s*$/.test(e.template)&&(a.template=e.template),a.setState({form:a.form,messages:a.messages,template:a.template})}).catch(function(e){console.error("Error: ",e),a.messages.push({level:"danger",message:e}),a.setState({form:a.form,messages:a.messages,template:a.template})}),!0)}},{key:"updateCollectionDetails",value:function(e,t,n){var r=this;return e.children.map(function(e){e.full_name=e.full_name.replace(t.full_name,n.full_name),e.id=e.id.replace(t.id,n.id),r.updateCollectionDetails(e,t,n)}),e}},{key:"addButtonHandler",value:function(e){var t=e.url;if(t&&!/^\s*$/.test(t))this.handleURLCall(t,e.url_options,e.url_type,{});else{var n=e.id.replace("_add",""),r=this.getFormElementById(n),a=r.children.length,o=mt({},r.prototype);o=this.setCollectionMemberKey(o,a);var l=r.children;l[a]=o,r.children=l,this.setFormElement(r,this.form),this.setState({form:this.form,messages:this.messages,template:this.template})}}},{key:"getElementId",value:function(e){return e}},{key:"getFormElementById",value:function(e){return!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&(this.elementList={}),void 0===this.elementList[e]&&(this.elementList=this.buildElementList({},this.form)),this.elementList[e]}},{key:"buildElementList",value:function(e,t){var n=this;return e[t.id]=t,t.children.map(function(t){n.buildElementList(e,t)}),e}},{key:"setCollectionMemberKey",value:function(e,t){var n=this,r=mt({},e);return r.children=e.children.map(function(e){return n.setCollectionMemberKey(e,t)}),r.full_name=r.full_name.replace("__name__",t),r.id=r.id.replace("__name__",t),r.name=r.name.replace("__name__",t),r.label=r.label.replace("__name__",t),r}},{key:"setFormElement",value:function(e,t){var n=this;if(e.id===t.id)return t=mt({},e);t.children.map(function(t){n.setFormElement(e,t)})}},{key:"getElementData",value:function(e){var t=this.getFormElementById(e);return void 0===t||t.id!==e?(console.error("The element returned does not match the requested element named: "+e),console.log(this.form),""):(""!==t.value&&"undefined"!==t.value&&null!==t.value||t.value===t.data||(t.value=t.data,this.elementList[t.id]=t),t.block_prefixes.includes("choice")&&"object"===st(t.value)&&void 0===t.value.length&&null===t.placeholder&&void 0!==t.choices[0]&&(t.value=t.data=t.choices[0].value),void 0===t.value||null===t.value?"":t.value)}},{key:"buildFormData",value:function(e,t){var n=this;return t.children.length>0?(t.children.map(function(t){e[t.name]=n.buildFormData({},t),n.setMessageByElementErrors(t)}),e):(this.setMessageByElementErrors(t),t.value)}},{key:"returnButtonHandler",value:function(e){Object(ut.a)(e.url)}},{key:"closeButtonHandler",value:function(){window.close()}},{key:"isOKtoSave",value:function(){if(0===this.messages.length)return!0;var e=!0;return this.messages.map(function(t){["warning","danger"].includes(t.level)&&(e=!1)}),e}},{key:"saveButtonHandler",value:function(){var e=this;if(this.data=this.buildFormData({},this.form),this.isOKtoSave())this.messages=[],ct(this.template.form.url,{method:this.template.form.method,body:JSON.stringify(this.data)},this.locale).then(function(t){e.elementList={},e.messages=e.messages.concat(t.messages),e.form=t.form,t.template&&!/^\s*$/.test(t.template)&&(e.template=t.template),e.setState({form:e.form,messages:e.messages,template:e.template})}).catch(function(t){e.messages.push({level:"danger",message:t.stack.replace(/\n/g,"<br/>")}),e.setState({form:e.form,messages:e.messages,template:e.template})});else{var t={level:"dark",message:Object(l.a)(this.translations,"All errors must be cleared before the form can be saved!")};this.messages.push(t),this.setState({form:this.form,messages:this.messages,template:this.template})}}},{key:"cancelMessage",value:function(e){this.messages.splice(e,1),this.setState({messages:this.messages,form:this.form,template:this.template})}},{key:"cancelMessageByName",value:function(e){var t=this;Object.keys(this.messages).map(function(n){var r=t.messages[n];void 0!==r&&void 0!==r.name&&r.name===e&&t.messages.splice(n,1)})}},{key:"setMessageByName",value:function(e,t){this.cancelMessageByName(e);var n={name:e,level:"danger",message:t};this.messages.push(n)}},{key:"setMessageByElementErrors",value:function(e){var t=this;(e=rt(e)).errors.map(function(n){t.setMessageByName(e.id,(e.label?e.label:e.name)+" ("+(e.value&&!/^\s*$/.test(e.value)?JSON.stringify(e.value):"{empty}")+"): "+n)})}},{key:"render",value:function(){return a.a.createElement(nt,mt({},this.otherProps,this.formControl,{template:this.state.template,form:mt({},this.state.form),messages:this.state.messages}))}}])&&ft(n.prototype,o),c&&ft(n,c),t}();n("IbaP");Object(o.render)(a.a.createElement(bt,window.FORM_PROPS),document.getElementById(window.FORM_PROPS.target_div))},zHh7:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t in e){var r=e[t];for(var a in n)r=r.replace(a,n[a]+"");return r}return t}n.d(t,"a",function(){return r})}},[["oYZW",0,1,5]]]);